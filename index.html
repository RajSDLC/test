<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Launching Gamerge...</title>
  <script>
    function getQueryValue(key) {
      const params = new URLSearchParams(window.location.search);
      return params.get(key);
    }

    window.onload = function () {
      const referralCode = getQueryValue("code");
      const roomId = getQueryValue("roomId");

      let appUrl = "unitydl://Gamerge";

      if (referralCode) {
        appUrl += "?code=" + encodeURIComponent(referralCode);
      } else if (roomId) {
        appUrl += "?roomId=" + encodeURIComponent(roomId);
      }

      // Try to open the app
      window.location.href = appUrl;

      // Fallback to Play Store after delay
      setTimeout(function () {
        window.location.href = "https://play.google.com/store/apps/details?id=com.yourcompany.gamerge";
      }, 2000);
    };
  </script>
</head>
<body>
  <h2>Launching the Gamerge App...</h2>
  <p>If nothing happens, <a id="fallback" href="#">tap here</a></p>
</body>
</html>

